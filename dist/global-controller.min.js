var controllers = [], Controller = function (s, r) { r.init(); var e = this; e.name = s, e.listeners = r.listeners; for (var n in e.listeners) for (var a in r.listeners[n]) $(document).on(a, n, r.listeners[n][a]); for (var i in r) "listeners" !== i && (e[i] = r[i]); if (void 0 !== e.hashes) { for (var h in e.hashes) crossroads.addRoute(h, e.hashes[h].bind(e)); var o = function (s) { crossroads.parse(s) }; hasher.prependHash = void 0 !== r.prependHash ? r.prependHash : "!", hasher.initialized.add(o), hasher.changed.add(o), r.hasherInit !== !1 && hasher.init() } controllers.push(e) };