var controllers = [], Controller = function (s, e) { e.init(); var r = this; r.name = s, r.listeners = e.listeners; for (var n in r.listeners) for (var a in e.listeners[n]) $(document).on(a, n, e.listeners[n][a]); for (var i in e) "listeners" !== i && (r[i] = e[i]); if (void 0 !== r.hashes && r.hashes.length > 0) { for (var h in r.hashes) crossroads.addRoute(h, r.hashes[h].bind(r)); var o = function (s) { crossroads.parse(s) }; hasher.prependHash = void 0 !== e.prependHash ? e.prependHash : "!", hasher.initialized.add(o), hasher.changed.add(o), e.hasherInit !== !1 && hasher.init() } controllers.push(r) };